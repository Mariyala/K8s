Deployments

kubectl get deployments

kubectl create deployment ws-deployment --image nginx:latest

kubectl get deploy

kubectl scale deployment ws-deployment --replicas 4

kubectl get rs

kubectl autoscale deployment ws-deployment --min=4 --max=6 --cpu-percent=80

kubectl get hpa

#
kubectl rollout history deployment/ws-deployment
kubectl rollout status deployment/ws-deployment

# преход на новую версию
kubectl set image deployment/ws-deployment nginx=nginx --record
kubectl set image deployment/ws-deployment nginx=nginx --to-revision=4
kubectl set image deployment/ws-deployment nginx=nginx:latest --record
# возврат на пред идущую версию
kubectl rollout undo deployment/ws-deployment
#
kubectl describe deployment/ws-deployment
# restart
kubectl rollout restart deployment/ws-deployment
# delete all deployment
kubectl delete deployment --all


kubectl port-forward my-web-deployment-r3-b699d9b74-dnsgq 5555:80


